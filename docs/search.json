[{"path":"http://yongfu.name/stom/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Yongfu Liao. Author, maintainer.","code":""},{"path":"http://yongfu.name/stom/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Liao Y (2023). stom: Miscellaneous Functions Statistical Modeling. http://yongfu.name/stom, https://github.com/liao961120/stom.","code":"@Manual{,   title = {stom: Miscellaneous Functions for Statistical Modeling},   author = {Yongfu Liao},   year = {2023},   note = {http://yongfu.name/stom, https://github.com/liao961120/stom}, }"},{"path":"http://yongfu.name/stom/index.html","id":"miscellaneous-functions-for-statistical-modeling","dir":"","previous_headings":"","what":"Miscellaneous Functions for Statistical Modeling","title":"Miscellaneous Functions for Statistical Modeling","text":"slowly moving package. Interesting model-fitting scripts might found inst/. Otherwise, ’s just log personal scripts functions.","code":""},{"path":"http://yongfu.name/stom/reference/bin_ext.html","id":null,"dir":"Reference","previous_headings":"","what":"Returns binary extension depending on OS — bin_ext","title":"Returns binary extension depending on OS — bin_ext","text":"ToDo: check mac's binary extension","code":""},{"path":"http://yongfu.name/stom/reference/bin_ext.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Returns binary extension depending on OS — bin_ext","text":"","code":"bin_ext()"},{"path":"http://yongfu.name/stom/reference/col.alpha.html","id":null,"dir":"Reference","previous_headings":"","what":"RGB to RGBA — col.alpha","title":"RGB to RGBA — col.alpha","text":"Stolen rethinking::col.alpha().","code":""},{"path":"http://yongfu.name/stom/reference/col.alpha.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"RGB to RGBA — col.alpha","text":"","code":"col.alpha(acol, alpha = 0.5)"},{"path":"http://yongfu.name/stom/reference/export_docs.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract docstring from R script to various output formats — export_docs","title":"Extract docstring from R script to various output formats — export_docs","text":"docstring defined lines start #'. avoid problems converting .pdf .html, format documentation comply Pandoc's markdown syntax. allow execution  export_docs_html() export_docs_pdf(), pandoc needs available command line. addition, LaTeX distribution (e.g. TeXLive) also required PDF compilation.","code":""},{"path":"http://yongfu.name/stom/reference/export_docs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract docstring from R script to various output formats — export_docs","text":"","code":"export_docs(path, outfp = NULL)  export_docs_pdf(path, outfp, style = \"amsart\")  export_docs_html(path, outfp)"},{"path":"http://yongfu.name/stom/reference/export_docs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract docstring from R script to various output formats — export_docs","text":"path Path input R script. outfp Output file path write . style String. Predefined style apply PDF outputs. Currently, amsart available.","code":""},{"path":"http://yongfu.name/stom/reference/export_docs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract docstring from R script to various output formats — export_docs","text":"","code":"(fin = system.file(\"wineNetwork\", \"wine.R\", package = \"stom\")) #> [1] \"C:/Users/rd/AppData/Local/Temp/Rtmpao2mMW/temp_libpathf43c48eb7921/stom/wineNetwork/wine.R\" docstring = export_docs(fin)  # Return as character vector if `outfp=NULL` cat(docstring, sep=\"\\n\") #> --- #> title: Joint Estimation of Interaction and Piped Effects in an Item Response Model #> author: \"Yongfu Liao\" #> --- #>  #> Description #> ----------- #>  #> The Directed Acyclic Graph (DAG) shown below represent the data generating #> process of the IRT model of interest. It can be conceptualized as a wine #> rating context, where the rating of wine quality ($R$) is influenced by #> three factors: #>  #> 1. $J$: Judge leniency #> 2. $W$: Wine quality #> 3. $O_w$: Wine origin #>  #> Furthermore, it is assumed that $O_w$ differentially influences $R$ #> based on the levels of another variable $O_j$, the origin of the judge #> In stats jargon, there's an interaction between $O_w$ and $O_j$. In simpler #> conceptual terms, consider the scenario that, for instance, French wines are #> rated higher by French judges, in addition to the scores they should have #> received based on their quality alone. The simulation code of this data #> generating process is found in the `sim_dat()` function below. #>  #> ```{.goat} #>         R <--- Ow #>        ^ ^     / #>       /   \\   / #>      /     \\ v #>     J       W #> ``` #>  #> The Original Model and its Problem #> ---------------------------------- #>  #> The specification of the original model is shown in the equations below. #> A problem found in this model is that it cannot stably recover the wine #> quality (`W`) and the interaction (`Int`) parameters. #>  #> $$ #> \\begin{aligned} #> R & \\sim Bernoulli( p )  \\\\ #> logit(p) &= W_{[Wid]} + J_{[Jid]} + Int_{[O_j, O_w]} \\\\ #> J & \\sim Normal( 0, \\sigma_J )  \\\\ #> \\sigma_J & \\sim Exponential(1) \\\\ #> \\\\ #> W_{[Wid]} & \\sim Normal( a_{[O_w]}, \\sigma_W )  \\\\ #> a & \\sim Normal( 0, 1.5 )  \\\\ #> \\sigma_W & \\sim Exponential(1) #> \\end{aligned} #> $$ #>  #>  #> Potential Causes #> ---------------- #>  #> With some exploration on a simpler model (the response was modeled as normal #> distributions generated from latent scores), it was found that the problem #> seemed to arise from an identifiablity issue: the model cannot correctly #> attribute the right amount of effect to wine quality (which is influenced by #> wine origin) and the direct (interactive) influence of wine origin on rating #> scores. The parameter estimates float around case by case when different #> configurations of the interaction are set in the simulation. #>  #>  #> Fixes #> ----- #>  #> As illustrated in `wine2_normal.stan` (Case 4 & 5), the problem can be fixed #> by imposing additional constraints on the model. Two of them are imposed #> here to correctly identify the parameters: #>  #> 1. A sum-to-zero constraint on the effects of wine origin on wine quality. #>    That is, the effect through the path $O_w \\rightarrow W$. #> 2. One of a term in the interaction matrix (`(2, 2)` in the case here) is #>    constraint to zero as the reference. #>  #>  #> ToDo #> ---- #>  #> Test whether the conclusion also holds with logit models (binary/ordinal #> response models). if (FALSE) { export_docs(fin, \"docs.md\") export_docs_pdf(fin, \"docs.pdf\") export_docs_html(fin, \"docs.html\") }"},{"path":"http://yongfu.name/stom/reference/inline.html","id":null,"dir":"Reference","previous_headings":"","what":"Format vectors as inline text — inline","title":"Format vectors as inline text — inline","text":"functions expect work R Markdown's inline R chunk syntax `r `, , instance, numbered `r inline(1:3)` respectively results numbered 1, 2, 3 respectively.","code":""},{"path":"http://yongfu.name/stom/reference/inline.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format vectors as inline text — inline","text":"","code":"inline(x, sep = \", \", last_sep = \", and \", two_sep = \" and \")  inline_zh(x, sep = \"、\", last_sep = \"、\", two_sep = \" 與 \")"},{"path":"http://yongfu.name/stom/reference/inline.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Format vectors as inline text — inline","text":"","code":"inline(1:2) #> [1] \"1 and 2\" inline(1:3) #> [1] \"1, 2, and 3\" inline_zh(1:2) #> [1] \"1 與 2\" inline_zh(1:3) #> [1] \"1、2、3\""},{"path":"http://yongfu.name/stom/reference/logit.html","id":null,"dir":"Reference","previous_headings":"","what":"Links and Inverse Links for Logistic Regression — logit","title":"Links and Inverse Links for Logistic Regression — logit","text":"Links Inverse Links Logistic Regression","code":""},{"path":"http://yongfu.name/stom/reference/logit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Links and Inverse Links for Logistic Regression — logit","text":"","code":"logit(p)  inv_logit(x)  logistic(x)"},{"path":"http://yongfu.name/stom/reference/logit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Links and Inverse Links for Logistic Regression — logit","text":"p Numeric vector. Values probability scale. x Numeric vector. Values linear scale.","code":""},{"path":"http://yongfu.name/stom/reference/pandoc_pdf.html","id":null,"dir":"Reference","previous_headings":"","what":"Pandoc wrappers for converting markdown to pre-styled documents — pandoc_pdf","title":"Pandoc wrappers for converting markdown to pre-styled documents — pandoc_pdf","text":"Pandoc wrappers converting markdown pre-styled documents","code":""},{"path":"http://yongfu.name/stom/reference/pandoc_pdf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pandoc wrappers for converting markdown to pre-styled documents — pandoc_pdf","text":"","code":"pandoc_pdf(fin, outfp, style = \"amsart\")  pandoc_html(fin, outfp, style = NULL)"},{"path":"http://yongfu.name/stom/reference/pat_depth.html","id":null,"dir":"Reference","previous_headings":"","what":"Stan parameter regex pattern — pat_depth","title":"Stan parameter regex pattern — pat_depth","text":"Stan parameter regex pattern","code":""},{"path":"http://yongfu.name/stom/reference/pat_depth.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Stan parameter regex pattern — pat_depth","text":"","code":"pat_depth(depth = 1)"},{"path":"http://yongfu.name/stom/reference/pat_depth.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Stan parameter regex pattern — pat_depth","text":"depth Integer. parameters' dimension number. Parameters dimension number equal less depth retrieved.","code":""},{"path":"http://yongfu.name/stom/reference/pat_depth.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Stan parameter regex pattern — pat_depth","text":"","code":"pat_depth(0) #> Error in pat_depth(0): could not find function \"pat_depth\" pat_depth(1) #> Error in pat_depth(1): could not find function \"pat_depth\" pat_depth(2) #> Error in pat_depth(2): could not find function \"pat_depth\" grepl( pat_depth(0), c(\"a\", \"a[1]\", \"a[1,2]\", \"a[1,2,3]\") ) #> Error in pat_depth(0): could not find function \"pat_depth\" grepl( pat_depth(2), c(\"a\", \"a[1]\", \"a[1,2]\", \"a[1,2,3]\") ) #> Error in pat_depth(2): could not find function \"pat_depth\""},{"path":"http://yongfu.name/stom/reference/precis.html","id":null,"dir":"Reference","previous_headings":"","what":"Posterior summary and extraction from CmdStanFit objects — precis","title":"Posterior summary and extraction from CmdStanFit objects — precis","text":"Posterior summary extraction CmdStanFit objects","code":""},{"path":"http://yongfu.name/stom/reference/precis.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Posterior summary and extraction from CmdStanFit objects — precis","text":"","code":"precis(fit, depth = 1, variables = NULL, lp = F)  extract(fit, variables = NULL, lp = F)"},{"path":"http://yongfu.name/stom/reference/precis.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Posterior summary and extraction from CmdStanFit objects — precis","text":"fit CmdStanFit object. depth Integer. level parameters display. 0 scalar; 1 scalar vector; 2 scalar, vector, matrix; . variables Character vector. Names variables include. Passed cmdstanr's $summary()/$draws(). lp Boolean. Whether include log probabilities output.","code":""},{"path":"http://yongfu.name/stom/reference/precis.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Posterior summary and extraction from CmdStanFit objects — precis","text":"data frame","code":""},{"path":"http://yongfu.name/stom/reference/precis.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Posterior summary and extraction from CmdStanFit objects — precis","text":"","code":"# Fitted model fp = system.file(\"wineNetwork\", \"wine2_normal_first_level2.RDS\", package=\"stom\") m = readRDS(fp) precis(m) #> Error in read_cmdstan_csv(files = self$output_files(include_failed = FALSE),     variables = variables, sampler_diagnostics = sampler_diagnostics,     format = format): Assertion on 'files' failed: File does not exist: 'C:/Users/rd/AppData/Local/Temp/RtmpSmySEj/wine2_normal_first_level2-202304271608-1-720c4e.csv'. extract(m) #> Error in read_cmdstan_csv(files = self$output_files(include_failed = FALSE),     variables = variables, sampler_diagnostics = sampler_diagnostics,     format = format): Assertion on 'files' failed: File does not exist: 'C:/Users/rd/AppData/Local/Temp/RtmpSmySEj/wine2_normal_first_level2-202304271608-1-720c4e.csv'."},{"path":"http://yongfu.name/stom/reference/rbern.html","id":null,"dir":"Reference","previous_headings":"","what":"Bernoulli Random Number Generator — rbern","title":"Bernoulli Random Number Generator — rbern","text":"Alias rbinom() single trial (size = 1).","code":""},{"path":"http://yongfu.name/stom/reference/rbern.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bernoulli Random Number Generator — rbern","text":"","code":"rbern(prob, n = length(prob))"},{"path":"http://yongfu.name/stom/reference/rbern.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bernoulli Random Number Generator — rbern","text":"prob Vector probabilities. n Numbers sample, defaults length prob.","code":""},{"path":"http://yongfu.name/stom/reference/replace_file_ext.html","id":null,"dir":"Reference","previous_headings":"","what":"Replace file extension — replace_file_ext","title":"Replace file extension — replace_file_ext","text":"Replace file extension","code":""},{"path":"http://yongfu.name/stom/reference/replace_file_ext.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replace file extension — replace_file_ext","text":"","code":"replace_file_ext(fp, ext = \"\")"},{"path":"http://yongfu.name/stom/reference/replace_file_ext.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replace file extension — replace_file_ext","text":"fp Character vector file paths. ext String. Extension (dot) change .","code":""},{"path":"http://yongfu.name/stom/reference/replace_file_ext.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Replace file extension — replace_file_ext","text":"","code":"replace_file_ext(\"x/y/zcda.txt\") #> [1] \"x/y/zcda\" replace_file_ext(paste0(1:3, \".txt\"), \".stan\") #> [1] \"1.stan\" \"2.stan\" \"3.stan\""},{"path":"http://yongfu.name/stom/reference/rordlogit.html","id":null,"dir":"Reference","previous_headings":"","what":"Random Number Generator from Ordered Logit Distribution — rordlogit","title":"Random Number Generator from Ordered Logit Distribution — rordlogit","text":"Random Number Generator Ordered Logit Distribution","code":""},{"path":"http://yongfu.name/stom/reference/rordlogit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Random Number Generator from Ordered Logit Distribution — rordlogit","text":"","code":"rordlogit(phi, kappa)"},{"path":"http://yongfu.name/stom/reference/rordlogit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Random Number Generator from Ordered Logit Distribution — rordlogit","text":"phi Numeric. linear term(s) subtract ordered categories. kappa vector cut-points delineating ordered categories logit scale. generating n categories, n-1 cut-points needed. include (negative) Inf values.","code":""},{"path":"http://yongfu.name/stom/reference/rordlogit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Random Number Generator from Ordered Logit Distribution — rordlogit","text":"","code":"kappa = c( -1.5, 0, 1.5 ) rordlogit( phi=0, kappa=kappa ) #> [1] 3 x = replicate( 1e4, {rordlogit(0, kappa)}) table(x) / length(x) #> x #>      1      2      3      4  #> 0.1836 0.3178 0.3181 0.1805  logistic( c(kappa, Inf) ) - logistic( c(-Inf, kappa) ) #> [1] 0.1824255 0.3175745 0.3175745 0.1824255"},{"path":"http://yongfu.name/stom/reference/rtnorm.html","id":null,"dir":"Reference","previous_headings":"","what":"Random Number Generator for Truncated Normal Distribution — rtnorm","title":"Random Number Generator for Truncated Normal Distribution — rtnorm","text":"parameters set generate numbers half-normal distribution default.","code":""},{"path":"http://yongfu.name/stom/reference/rtnorm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Random Number Generator for Truncated Normal Distribution — rtnorm","text":"","code":"rtnorm(n, m = 0, s = 1, lower = 0, upper = Inf)"},{"path":"http://yongfu.name/stom/reference/rtnorm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Random Number Generator for Truncated Normal Distribution — rtnorm","text":"n Numbers sample. m mean untruncated normal distribution. s standard deviation untruncated normal distribution. lower lower bound truncation. upper upper bound truncation.","code":""},{"path":"http://yongfu.name/stom/reference/stan.html","id":null,"dir":"Reference","previous_headings":"","what":"Compile and sample with cmdstanr — stan","title":"Compile and sample with cmdstanr — stan","text":"Compile sample cmdstanr","code":""},{"path":"http://yongfu.name/stom/reference/stan.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compile and sample with cmdstanr — stan","text":"","code":"stan(stan_file, data, seed = 123)"},{"path":"http://yongfu.name/stom/reference/stan.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compile and sample with cmdstanr — stan","text":"stan_file String. Stan file path. data List. Data list. seed Integer. Random seed passed cmdstanr's $sample().","code":""},{"path":"http://yongfu.name/stom/reference/stan.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compile and sample with cmdstanr — stan","text":"CmdStanFit object.","code":""},{"path":"http://yongfu.name/stom/reference/stan2bin.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert stan file path to stan binary file path — stan2bin","title":"Convert stan file path to stan binary file path — stan2bin","text":"Assumes *.stan & compiled binary found directory.","code":""},{"path":"http://yongfu.name/stom/reference/stan2bin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert stan file path to stan binary file path — stan2bin","text":"","code":"stan2bin(fp)"},{"path":"http://yongfu.name/stom/reference/stan2bin.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert stan file path to stan binary file path — stan2bin","text":"fp Path *.stan file","code":""},{"path":"http://yongfu.name/stom/reference/standardize.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardize a vector to fixed mean and std — standardize","title":"Standardize a vector to fixed mean and std — standardize","text":"Standardize vector fixed mean std","code":""},{"path":"http://yongfu.name/stom/reference/standardize.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standardize a vector to fixed mean and std — standardize","text":"","code":"standardize(x, m = 0, s = 1)"},{"path":"http://yongfu.name/stom/reference/standardize.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standardize a vector to fixed mean and std — standardize","text":"x Numeric vector. m Mean. s Standard deviation.","code":""},{"path":"http://yongfu.name/stom/reference/stom-package.html","id":null,"dir":"Reference","previous_headings":"","what":"stom: Miscellaneous Functions for Statistical Modeling — stom-package","title":"stom: Miscellaneous Functions for Statistical Modeling — stom-package","text":"Personal package collection functions commonly used statistical modeling.","code":""},{"path":[]},{"path":"http://yongfu.name/stom/reference/stom-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"stom: Miscellaneous Functions for Statistical Modeling — stom-package","text":"Maintainer: Yongfu Liao liao961120@gmail.com (ORCID)","code":""},{"path":"http://yongfu.name/stom/reference/test_cmdstanr.html","id":null,"dir":"Reference","previous_headings":"","what":"Test cmdstanr compilation — test_cmdstanr","title":"Test cmdstanr compilation — test_cmdstanr","text":"Test cmdstanr compilation","code":""},{"path":"http://yongfu.name/stom/reference/test_cmdstanr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test cmdstanr compilation — test_cmdstanr","text":"","code":"test_cmdstanr(clean = F, draw_sample = T)"},{"path":"http://yongfu.name/stom/reference/test_cmdstanr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Test cmdstanr compilation — test_cmdstanr","text":"clean Whether recompile binary found, defaults FALSE. draw_sample Whether draw samples, defaults TRUE.","code":""}]
