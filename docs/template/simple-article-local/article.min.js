/**
 * Combined by jsDelivr.
 * Original files:
 * - /npm/@xiee/utils@1.9.4/js/sidenotes.min.js
 * - /npm/@xiee/utils@1.9.4/js/appendix.min.js
 * - /npm/@xiee/utils@1.9.4/js/right-quote.min.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
(e=>{e.querySelectorAll('.footnotes > ol > li[id^="fn"], #refs > div[id^="ref-"]').forEach((t=>{const s=`a[href="#${t.id}"]`,r=e.querySelector(`${s} > sup, sup > ${s}, .citation > ${s}`);if(!r)return;const o=r.parentNode;("A"===r.tagName?r:o).removeAttribute("href");const l=e.createElement("div");for(l.className="side side-right",/^fn/.test(t.id)?(l.innerHTML=t.innerHTML,l.firstElementChild.insertAdjacentHTML("afterbegin",`<span class="bg-number">${r.innerText}</span> `),l.querySelector('a[href^="#fnref"]')?.remove(),l.className+=" footnotes"):l.innerHTML=t.outerHTML;"#text"===l.lastChild?.nodeName&&/^\s*$/.test(l.lastChild.textContent);)l.lastChild.remove();l.querySelectorAll(".fullwidth").forEach((e=>e.classList.remove("fullwidth"))),o.after(l),o.classList.add("note-ref"),t.remove()})),e.querySelectorAll(".footnotes, #refs").forEach((e=>{/^\s*$/.test(e.innerText)&&e.remove()})),e.getElementById("TOC")?.classList.add("side","side-left");const t=e.querySelectorAll(".side.side-right, .side.side-left"),s=[];e.querySelectorAll(".fullwidth").forEach((e=>{s.push([e,e.getBoundingClientRect()])})),t.length&&e.body.classList.add("has-sidenotes"),t.forEach((e=>{const t=e.getBoundingClientRect();for(let e of s){const s=e[1];t.right<s.left||t.left>s.right||t.bottom<s.top||t.top>s.bottom||e[0].classList.remove("fullwidth")}}))})(document);;

(e=>{const n=e.querySelector([1,2,3,4,5,6].map((e=>`h${e}.appendix`)).join(","));if(!n)return;n.classList.remove("appendix");const a=e.createElement("div");for(a.className="appendix",a.append(n.cloneNode(!0));n.nextSibling;)a.append(n.nextSibling);"BODY"===n.parentNode.tagName?e.body.append(a):n.parentNode.after(a),n.remove()})(document);;

[...document.getElementsByTagName("p")].forEach((t=>{/^(—|―|---)/.test(t.textContent)&&(t.style.textAlign="right")}));
//# sourceMappingURL=/sm/9b609e09fd1b4a0c8103769ea8c3c15d85a57ec3f07bf8db9565348a96444c4b.map