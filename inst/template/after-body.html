<!-- 
Markdeep Diagram parser 
    Parses all code blocks with `.goat` className as Markdeep diagram.
-->
<script>window.markdeepOptions = {mode: 'script', detectMath: false};</script>
<script src="https://morgan3d.github.io/markdeep/latest/markdeep.min.js"></script>
<script>
  document.querySelectorAll(".goat").forEach(e => {
    var dag = e.querySelector("code").innerText;
    let graph = document.createElement("div");
    graph.className = "markdeep-dag";
    graph.innerHTML = window.markdeep.formatDiagram(dag, "undefined");
    graph.querySelectorAll('path').forEach( p => {
      p.setAttribute("stroke", "currentcolor");
    });
    e.after(graph);
    e.remove();
  })
</script>
